# Geospatial Web Development 2022 | Übung 2 <br/> Nikolaos Kolaxidis | 07.12.2022

Die Webseite ist in 5 Seiten aufgebaut, wobei die erste eine kurze Einführung gibt, die letzte ein Impressum zeigt und die restlichen drei jeweils für die Aufgaben aus dem Übungsblatt erstellt wurden. Die Styles der Webseite beruhen grundsätzlich auf der Webseiten der letzten Übung, wurden aber in Schwarz-Weiß und Grau geändert. Dadurch wird die Lesbarkeit aufgrund der Erhöhung der Kontraste (siehe Referat "Web Accessibility (Ziegler)) weiter erhöht. Neu ist, dass als Navigationsleiste ein Dropdownmenü gewählt wurde, welches die Seiten semantisch in die drei Bereiche Startseite, Themenseiten und Impressum gliedert. Interessant hierbei ist die Zuweisung des mittleren Listeneintrags als "Dropdownbutton", welches dann bei Hoveraktionen (`:hover`) das Dropdownmenü aufploppen lässt. Hierbei ist es wichtig, das Dropdownmenü erst per `display: none` ausgeblendet zu lassen, dies dann bei der hoveraktion per `display: block` wieder einzublenden. Durch Abpassen von Breite des Divs und der Elemente (a/li) kann dann ein ansehnliches Dropdownmenü gebastelt werden.

Aufgrund der Komplexität (im Vergleich zu ausgereiften Webseiten weiterhin gering) der Styles wurden mehrere CSS-Dateien erstellt, die per `<link rel="stylesheet" type="text/css" href="./scripts/datei.css">` eingebunden werden können. Zusätzlich werden auf den Aufgabenseiten JS-Dateien per `<script type="text/javascript" src="./scripts/datei.js"></script>` eingebunden. So ist es auch möglich, die Bibliotheken für Open Layers und PapaParse einzubinden und für die DOM verfügbar zu machen. 

Das Implementieren von Karten mittels Open Layers funktioniert durch aufrufen von bestimmten Funktionen der Bibliothek wie `ol.layer.Vector()` und das Nutzen von Argumenten zur individuellen Gestaltung. Wichtig ist ein Div um die Karte herum zu definieren und diesem Breite und Höhe zu geben, da die Karte selbst keinen Extent aufweist. Nach Erstellen der Karte selbst werden Layer durch `ol.layer.Tile()` oder `ol.layer.Vector()`, entsprechend der Art des Layers, hinzugefügt.

Die Karten wurden üblicherweise per `center: ol.proj.fromLonLat([10.5, 51.5])` auf Deutschland zentriert und mit verschiedenem Zoom per `zoom:` eingestellt. Da die verschiedenen Themenseiten verschiedene Inhalte zeigen, wurden für die Seiten [Windräder in D](./ol1.html) und [Datenvisualisierung](./ol3.html) eine Zoomstufe von 6 und für [Landuse Tile Cache](./ol2.html) eine Stufe von 4.1 (wird folgend erläutert) gewählt. Darüber hinaus kann mit `minZoom` und `maxZoom` eine Begrenzung des Zooms provoziert werden, sodass es zB auf den beiden Themenseiten, in denen es um Deutschland geht, nicht sehr weit herausgezoomt werden kann.

Auf der Seite [Landuse Tile Cache](./ol2.html) wurden die Zoomstufen auf besondere Weise noch so gewählt, dass bei einer geringen Zoomstufe (1-4) der OSM-Layer über dem Landuse-Tile-Layer angezeigt wird und ab einer Zoomstufe von 4 der OSM-Layer ausgeblendet und dann nur noch der Landuse-Tile-Layer angezeigt wird. Hierbei ist es wichtig, die Reihenfolge der Layer zu beachten (erst Landuse-Tiles hinzufügen, dann OSM-Layer). Das Ein- und Ausblenden des Landuse-Tile-Layers ist nicht per `min/maxZoom` möglich, da diese die Abfrage selbst ändern und dann zB hohe Zoomstufen für die ganze Welt laden, was ewig dauern kann. Die anfängliche Zoomstufe von 4.1 der Webseite ist nötig, damit direkt der Landuse-Layer angezeigt wird (muss > 4 sein, auch 4.01 würden gehen).

Die Seite [Windräder in D](./ol1.html) beinhaltet bei den Styles für den Layer der vom User einzubindenden Daten noch eine Formel zur Feststellung der Radius anhand der Anzahl von Windrädern im Datensatz: `radius: 1.5 * Math.sqrt( feature.getProperties().value / 12 )`. Dabei kann mit `getProperties().Spaltenname` auf Spalten von Datensätzen zugegriffen werden und damit wie in diesem Fall eine wertabhängige Skalierung gecoded werden. 

Die Funktion wurde zur Verkleinerung des HTML-Dokuments in ein JS-Dokument `styles.js` verschoben, welches neben dieser lediglich noch eine weitere Style-Funktion enthält, die bei der Erstellung von Datenpunkten auf der Seite [Datenvisualisierung](./ol3.html) zum Einsatz kommt. Das JS-Dokument `main.js` mit den Funktionen zur Einbindung externer Daten für die Seite [Datenvisualisierung](./ol3.html) wird durch Kommentare innerhalb der Datei erläutert. 